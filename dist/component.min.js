(()=>{function m(s){class i extends HTMLElement{connectedCallback(){let o=this.attachShadow({mode:"open"}),a=this.hasAttribute(":template"),c=this.hasAttribute(":url");(a||c)&&s.initTree(this);let{template:l,url:r,styles:p}=this.attributes;if(p){let e=new CSSStyleSheet,t=[...document.styleSheets].flatMap(({cssRules:n})=>[...n]);for(let n of t)n instanceof CSSStyleRule&&n.selectorText===":root"||e.insertRule(n.cssText);o.adoptedStyleSheets=[e]}l&&function(t){let n=document.getElementById(t),d=new DOMParser().parseFromString(n.innerHTML,"text/html").body.firstChild;return Promise.resolve(d)}(l.value).then(t=>{o.appendChild(t),s.initTree(o)}),r&&fetch(r.value).then(e=>e.text()).then(e=>{let t=new DOMParser().parseFromString(e,"text/html").body.firstChild;o.appendChild(t),s.initTree(o)})}}window.customElements.get("x-component")||(customElements.define("x-component",i),new i)}document.addEventListener("alpine:init",()=>window.Alpine.plugin(m));})();
