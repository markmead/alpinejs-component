function p(e,n){let l=(n.includes("global")?[...document.styleSheets]:[...document.styleSheets].filter(({title:t})=>n.includes(t))).filter(({href:t})=>t?.includes(window.location.host)).flatMap(({cssRules:t})=>[...t]),i=new CSSStyleSheet;for(let t of l)t instanceof CSSStyleRule&&t.selectorText===":root"||i.insertRule(t.cssText);e.adoptedStyleSheets=[i]}async function u(e,n,o){function a(l){let i=document.getElementById(l),t=new DOMParser().parseFromString(i.innerHTML,"text/html").body.firstChild;return Promise.resolve(t)}let s=await a(n);o.appendChild(s),e.initTree(o)}async function h(e,n,o){let s=await(await fetch(n)).text(),l=new DOMParser().parseFromString(s,"text/html").body.firstChild;o.appendChild(l),e.initTree(o)}function d(e){class n extends HTMLElement{connectedCallback(){if(this._hasInit)return;let s=this.attachShadow({mode:"open"}),l=this.hasAttribute(":template"),i=this.hasAttribute(":url");(l||i)&&e.initTree(this);let{template:t={value:""},url:f={value:""},styles:S={value:""}}=this.attributes,c=t.value,m=f.value,r=S.value.split(",");c.length&&u(e,c,s),m.length&&h(e,m,s),r.length&&p(s,r),this._hasInit=!0}}let{name:o}=window?.xComponent||{name:"x-component"};window.customElements.get(o)||(customElements.define(o,n),new n)}var g=d;export{g as default};
