function f(e,n){let i=(n.includes("global")?[...document.styleSheets]:[...document.styleSheets].filter(({title:t})=>n.includes(t))).filter(({href:t})=>t?t?.includes(window.location.host):!0).flatMap(({cssRules:t})=>[...t]),r=new CSSStyleSheet;for(let t of i)t instanceof CSSStyleRule&&t.selectorText===":root"||r.insertRule(t.cssText);e.adoptedStyleSheets=[r]}async function p(e,n,s,o){function l(r){let t=document.getElementById(r),a=new DOMParser().parseFromString(t.innerHTML,"text/html").body.firstChild;return Promise.resolve(a)}let i=await l(s);o.appendChild(i),n.initTree(o)}async function h(e,n,s,o){let i=await(await fetch(s)).text(),t=new DOMParser().parseFromString(i,"text/html").body.firstChild;o.appendChild(t),n.initTree(o)}function S(e){class n extends HTMLElement{connectedCallback(){if(this._hasInit)return;let l=this.attachShadow({mode:"open"}),i=this.hasAttribute(":template"),r=this.hasAttribute(":url");(i||r)&&e.initTree(this);let{template:t,url:c,styles:a}=this.attributes||{},m=t?.value||"",u=c?.value||"",d=a?.value.split(",")||"";m.length&&p(this,e,m,l),u.length&&h(this,e,u,l),d.length&&f(l,d),this._hasInit=!0}}let{name:s}=window?.xComponent||{name:"x-component"};window.customElements.get(s)||(customElements.define(s,n),new n)}var T=S;export{T as default};
