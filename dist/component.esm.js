function m(s){class r extends HTMLElement{connectedCallback(){let o=this.attachShadow({mode:"open"}),a=this.hasAttribute(":template"),c=this.hasAttribute(":url");(a||c)&&s.initTree(this);let{template:l,url:i,styles:p}=this.attributes;if(p){let e=new CSSStyleSheet,t=[...document.styleSheets].flatMap(({cssRules:n})=>[...n]);for(let n of t)n instanceof CSSStyleRule&&n.selectorText===":root"||e.insertRule(n.cssText);o.adoptedStyleSheets=[e]}l&&function(t){let n=document.getElementById(t),h=new DOMParser().parseFromString(n.innerHTML,"text/html").body.firstChild;return Promise.resolve(h)}(l.value).then(t=>{o.appendChild(t),s.initTree(o)}),i&&fetch(i.value).then(e=>e.text()).then(e=>{let t=new DOMParser().parseFromString(e,"text/html").body.firstChild;o.appendChild(t),s.initTree(o)})}}window.customElements.get("x-component")||(customElements.define("x-component",r),new r)}var S=m;export{S as default};
